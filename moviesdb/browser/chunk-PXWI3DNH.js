import{b as $,g as l,h as L,j as N,k as E,l as H,m as f,o as A,p as M,q as j,v as D,w as T}from"./chunk-4N7KZWB5.js";import{Bb as _,Ib as a,Jb as p,Rb as I,Sa as y,Wb as k,Xa as m,Xb as F,Y as g,ba as h,ca as v,ga as b,qb as u,sa as C,ta as x,tb as S,ub as w,vb as n,wb as i,xb as c,xc as G}from"./chunk-6AOZM4GF.js";import"./chunk-XK3LJZ6K.js";import"./chunk-FO65GQC2.js";var U=(()=>{let e=class e{constructor(t){this._HttpClient=t}createComment(t){return this._HttpClient.post(`${l.socialAppUrl}comments`,t)}getPostComments(t){return this._HttpClient.get(`${l.socialAppUrl}posts/${t}/comments`)}updateComment(t,r){return this._HttpClient.put(`${l.socialAppUrl}comments/${t}`,r)}deleteComment(t){return this._HttpClient.delete(`${l.socialAppUrl}comments/${t}`)}};e.\u0275fac=function(r){return new(r||e)(h($))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var V=(o,e)=>e._id;function B(o,e){if(o&1&&(n(0,"div",2)(1,"div",11),c(2,"img",12),n(3,"div")(4,"div",13)(5,"h4",14),a(6),i(),n(7,"p",15),a(8),i()(),n(9,"p",16),a(10),k(11,"date"),i()()()()),o&2){let s=e.$implicit;m(2),u("src",s.commentCreator.photo,y)("alt",s.commentCreator.name),m(4),p(s.commentCreator.name),m(2),p(s.content),m(2),p(F(11,5,s.createdAt))}}var ne=(()=>{let e=class e{constructor(){this._CommentsService=v(U),this.commentsList=[]}ngOnInit(){this._CommentsService.getPostComments(this.postId).subscribe({next:t=>{this.commentsList=t.comments}}),this.commentGroup=new H({content:new f(null),post:new f(this.postId)})}sendComment(){this._CommentsService.createComment(this.commentGroup.value).subscribe({next:t=>{this.commentsList=t.comments.reverse(),this.commentGroup.get("content")?.reset()}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=b({type:e,selectors:[["app-comments"]],inputs:{commentsList:"commentsList",postId:"postId"},standalone:!0,features:[I],decls:14,vars:1,consts:[[1,"border-t","pt-4"],[1,"comments-container"],[1,"mb-4"],[3,"ngSubmit","formGroup"],["for","chat",1,"sr-only"],[1,"flex","items-center","px-3","py-2","rounded-lg","bg-gray-50","dark:bg-gray-700"],["formControlName","content","id","chat","rows","1","placeholder","Your comment...",1,"block","mx-4","p-2.5","w-full","text-sm","text-gray-900","bg-white","rounded-lg","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-800","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["type","submit",1,"inline-flex","justify-center","p-2","text-blue-600","rounded-full","cursor-pointer","hover:bg-blue-100","dark:text-blue-500","dark:hover:bg-gray-600"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 18 20",1,"w-5","h-5","rotate-90","rtl:-rotate-90"],["d","m17.914 18.594-8-18a1 1 0 0 0-1.828 0l-8 18a1 1 0 0 0 1.157 1.376L8 18.281V9a1 1 0 0 1 2 0v9.281l6.758 1.689a1 1 0 0 0 1.156-1.376Z"],[1,"sr-only"],[1,"flex","items-start","space-x-3"],[1,"w-10","h-10","rounded-full",3,"src","alt"],[1,"bg-gray-100","rounded-lg","px-3","py-2"],[1,"font-medium"],[1,"text-gray-600"],[1,"text-xs","text-gray-500","mt-1"]],template:function(r,d){r&1&&(n(0,"div",0)(1,"div",1),S(2,B,12,7,"div",2,V),i(),n(4,"form",3),_("ngSubmit",function(){return d.sendComment()}),n(5,"label",4),a(6,"Your comment"),i(),n(7,"div",5),c(8,"textarea",6),n(9,"button",7),C(),n(10,"svg",8),c(11,"path",9),i(),x(),n(12,"span",10),a(13,"Send comment"),i()()()()()),r&2&&(m(2),w(d.commentsList),m(2),u("formGroup",d.commentGroup))},dependencies:[G,D,A,L,N,E,T,M,j],styles:[".comments-container[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}"]});let o=e;return o})();export{ne as CommentsComponent};
